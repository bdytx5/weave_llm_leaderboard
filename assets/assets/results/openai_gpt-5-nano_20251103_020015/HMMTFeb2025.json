[
  {
    "sample_id": 1,
    "input": "Please reason step by step, and put your final answer within \\boxed{}.\n\nCompute the sum of the positive divisors (including $1$) of $9!$ that have units digit $1$.",
    "output": "We need divisors of 9! that end in 1.\n\n- Factor 9! = 2^7 \u00b7 3^4 \u00b7 5 \u00b7 7.\n- A divisor ending in 1 must be odd and not divisible by 5. So its form is 3^b \u00b7 7^d with b \u2208 {0,1,2,3,4}, d \u2208 {0,1}, and no factors of 2 or 5 (i.e., the exponent of 2 is 0 and exponent of 5 is 0).\n\nWork modulo 5:\n- 3^b mod 5 cycles: b = 0..4 gives 1, 3, 4, 2, 1.\n- 7^d mod 5 is: d = 0 \u2192 1; d = 1 \u2192 2.\n\nWe need 3^b \u00b7 7^d \u2261 1 (mod 5).\n\n- If d = 0: need 3^b \u2261 1 mod 5 \u2192 b \u2208 {0, 4}. Divisors: 3^0 = 1; 3^4 = 81.\n- If d = 1: need 3^b \u00b7 2 \u2261 1 mod 5 \u2192 3^b \u2261 3 mod 5 \u2192 b = 1. Divisor: 3^1 \u00b7 7^1 = 21.\n\nThus the divisors with units digit 1 are 1, 21, 81. Their sum is 1 + 21 + 81 = 103.\n\n\\boxed{103}",
    "ground_truth": "103",
    "score": {
      "correct": true,
      "mode": "majority",
      "votes": [
        {
          "model": "gpt-4o",
          "correct": true
        }
      ]
    }
  },
  {
    "sample_id": 2,
    "input": "Please reason step by step, and put your final answer within \\boxed{}.\n\nMark writes the expression $\\sqrt{\\underline{a b c d}}$ on the board, where $\\underline{a b c d}$ is a four-digit number and $a \\neq 0$. Derek, a toddler, decides to move the $a$, changing Mark's expression to $a \\sqrt{\\underline{b c d}}$. Surprisingly, these two expressions are equal. Compute the only possible four-digit number $\\underline{a b c d}$.",
    "output": "Let N = abcd = 1000a + M, where M = 100b + 10c + d (a \u2260 0, 0 \u2264 M \u2264 999).\n\nGiven sqrt(N) = a sqrt(M), squaring gives:\n1000a + M = a^2 M\n=> M(a^2 \u2212 1) = 1000a\n=> M = 1000a / (a^2 \u2212 1)\n\nTest a = 2,\u2026,9 (a \u2260 1; a is the thousand digit):\n- a = 2: M = 2000/3 not integer\n- a = 3: M = 3000/8 = 375 (integer)\n- a = 4: M = 4000/15 not integer\n- a = 5: M = 5000/24 not integer\n- a = 6: M = 6000/35 not integer\n- a = 7: M = 7000/48 not integer\n- a = 8: M = 8000/63 not integer\n- a = 9: M = 9000/80 = 112.5 not integer\n\nThus a = 3 and M = 375. Therefore abcd = 3375.\n\nVerification: sqrt(3375) = sqrt(9 \u00d7 375) = 3 sqrt(375), which equals a sqrt(M) with a = 3 and M = 375.\n\n\\boxed{3375}",
    "ground_truth": "3375",
    "score": {
      "correct": true,
      "mode": "majority",
      "votes": [
        {
          "model": "gpt-4o",
          "correct": true
        }
      ]
    }
  },
  {
    "sample_id": 3,
    "input": "Please reason step by step, and put your final answer within \\boxed{}.\n\nGiven that $x, y$, and $z$ are positive real numbers such that\n\n$$\nx^{\\log _{2}(y z)}=2^{8} \\cdot 3^{4}, \\quad y^{\\log _{2}(z x)}=2^{9} \\cdot 3^{6}, \\quad \\text { and } \\quad z^{\\log _{2}(x y)}=2^{5} \\cdot 3^{10}\n$$\ncompute the smallest possible value of $x y z$.",
    "output": "Let a = log2 x, b = log2 y, c = log2 z and t = log2 3.\n\nFrom x^{log2(yz)} = 2^8 3^4, etc., we get\na(b + c) = 8 + 4t,\nb(c + a) = 9 + 6t,\nc(a + b) = 5 + 10t.\n\nLet P = ab, Q = ac, R = bc. Then\nP + Q = 8 + 4t,\nP + R = 9 + 6t,\nQ + R = 5 + 10t.\n\nSolving this linear system gives\nP = ab = 6,\nQ = ac = 2 + 4t,\nR = bc = 3 + 6t.\n\nFrom P = ab and Q = ac, R = bc we obtain\nc/b = Q/P = (2 + 4t)/6 = (1 + 2t)/3,\nc/a = R/P = (3 + 6t)/6 = t + 1/2.\n\nThus a = c/(t + 1/2) = 2c/(2t + 1) and b = c/[(1 + 2t)/3] = 3c/(1 + 2t).\nThen ab = [2c/(2t+1)] [3c/(1+2t)] = 6c^2/(2t+1)^2. Since ab = 6, we get c^2 = (2t+1)^2, so c = \u00b1(2t+1). Consequently\na = \u00b12, b = \u00b13 with the same sign as c.\n\nHence the two possible triples (a,b,c) are:\n- Case 1: (a,b,c) = (2, 3, 2t+1)\n- Case 2: (a,b,c) = (-2, -3, -(2t+1))\n\nConvert back: x = 2^a, y = 2^b, z = 2^c.\n\nCase 1: x = 4, y = 8, z = 2^{2t+1} = 2 \u00b7 3^2 = 18, so xyz = 4\u00b78\u00b718 = 576.\n\nCase 2: x = 1/4, y = 1/8, z = 1/18, so xyz = (1/4)(1/8)(1/18) = 1/576.\n\nThe smallest possible value of xyz is 1/576. Hence\n\\boxed{\\frac{1}{576}}.",
    "ground_truth": "\\frac{1}{576}",
    "score": {
      "correct": true,
      "mode": "majority",
      "votes": [
        {
          "model": "gpt-4o",
          "correct": true
        }
      ]
    }
  },
  {
    "sample_id": 4,
    "input": "Please reason step by step, and put your final answer within \\boxed{}.\n\nLet $\\lfloor z\\rfloor$ denote the greatest integer less than or equal to $z$. Compute\n\n$$\n\\sum_{j=-1000}^{1000}\\left\\lfloor\\frac{2025}{j+0.5}\\right\\rfloor\n$$",
    "output": "\\boxed{-984}\n\nReasoning (concise steps):\n- Let k_j = j + 1/2. Then k_j runs over the half-integers from -999.5 to 1000.5. The sum is S = sum_{j=-1000}^{1000} floor(2025/(j+1/2)) = sum_{k in K} floor(2025/k), where K = {m+1/2: m = -1000,...,1000}.\n- Pair k with -k for all k in {0.5, 1.5, ..., 999.5}. There is a single unpaired term k = 1000.5.\n- For a = 2025/k, floor(a) + floor(-a) = -1 if a is not an integer, and 0 if a is an integer.\n- Thus the sum over each paired pair is -1 except for those k for which 2025/k is an integer.\n- Write k = m + 1/2 with m = 0,1,...,999. Then 2025/k = 2025 / (m+1/2) = 4050/(2m+1). This is an integer iff 2m+1 divides 4050.\n- The odd divisors of 4050 are {1,3,5,9,15,25,27,45,75,81,135,225,405,675,2025}. Among these, 2025 > 1999, so for k in our range exactly 14 values give integer 2025/k; they correspond to 14 pairs with sum 0; the other 1000 - 14 = 986 pairs contribute -1.\n- The unpaired term is floor(2025/1000.5) = floor(4050/2001) = 2.\n- Therefore S = (-986) + 2 = -984.",
    "ground_truth": "-984",
    "score": {
      "correct": true,
      "mode": "majority",
      "votes": [
        {
          "model": "gpt-4o",
          "correct": true
        }
      ]
    }
  },
  {
    "sample_id": 5,
    "input": "Please reason step by step, and put your final answer within \\boxed{}.\n\nLet $\\mathcal{S}$ be the set of all nonconstant monic polynomials $P$ with integer coefficients satisfying $P(\\sqrt{3}+\\sqrt{2})=$ $P(\\sqrt{3}-\\sqrt{2})$. If $Q$ is an element of $\\mathcal{S}$ with minimal degree, compute the only possible value of $Q(10)-Q(0)$.",
    "output": "Let \u03b1 = \u221a3 + \u221a2 and \u03b2 = \u221a3 \u2212 \u221a2. Then \u03b1\u03b2 = 1, \u03b1 \u2260 \u03b2, \u03b1+\u03b2 = 2\u221a3, \u03b1^2+\u03b2^2 = 10, hence \u03b1^2+\u03b1\u03b2+\u03b2^2 = 11.\n\n- Degree 1: If P(x) = x + d, then P(\u03b1) \u2212 P(\u03b2) = \u03b1 \u2212 \u03b2 \u2260 0. So degree 1 is not allowed.\n- Degree 2: If P(x) = x^2 + px + q, then P(\u03b1) \u2212 P(\u03b2) = (\u03b1 \u2212 \u03b2)(\u03b1 + \u03b2 + p) = (\u03b1 \u2212 \u03b2)(2\u221a3 + p). This cannot be 0 with p \u2208 Z, since 2\u221a3 is irrational. So degree 2 is not allowed.\n\nThus the minimal possible degree is 3. Let P(x) = x^3 + ax^2 + bx + c with a,b,c \u2208 Z. Then\nP(\u03b1) \u2212 P(\u03b2) = (\u03b1 \u2212 \u03b2)[\u03b1^2 + \u03b1\u03b2 + \u03b2^2 + a(\u03b1 + \u03b2) + b]\n= (\u03b1 \u2212 \u03b2)[11 + 2a\u221a3 + b].\n\nFor P(\u03b1) = P(\u03b2) we need 11 + 2a\u221a3 + b = 0. Since \u221a3 is irrational and a,b \u2208 Z, this forces a = 0 and b = \u221211.\n\nSo the minimal-degree polynomials are of the form P(x) = x^3 \u2212 11x + c, with c \u2208 Z.\n\nNow Q(10) \u2212 Q(0) = (10^3 \u2212 11\u00b710 + c) \u2212 c = 1000 \u2212 110 = 890.\n\n\\boxed{890}",
    "ground_truth": "890",
    "score": {
      "correct": true,
      "mode": "majority",
      "votes": [
        {
          "model": "gpt-4o",
          "correct": true
        }
      ]
    }
  },
  {
    "sample_id": 6,
    "input": "Please reason step by step, and put your final answer within \\boxed{}.\n\nLet $r$ be the remainder when $2017^{2025!}-1$ is divided by 2025!. Compute $\\frac{r}{2025!}$. (Note that $2017$ is prime.)",
    "output": "Consider m = 2025!.\n\n- For every prime p \u2260 2017 with p^e || m, gcd(2017, p^e) = 1. Since phi(p^e) = p^{e-1}(p-1) divides m, we have 2017^{m} \u2261 1 (mod p^e). Hence 2017^{m} \u2212 1 \u2261 0 (mod p^e).\n\n- For p = 2017, m has exactly one factor 2017 (since \u230a2025/2017\u230b = 1). Thus 2017^{m} \u2261 0 (mod 2017), so 2017^{m} \u2212 1 \u2261 \u22121 \u2261 2016 (mod 2017).\n\nTherefore r is divisible by N = m/2017 = 2025!/2017, and\nr \u2261 2016 (mod 2017).\n\nLet r = kN. Then kN \u2261 2016 (mod 2017). Compute N mod 2017:\n2025! = (1\u00b72\u00b7...\u00b72016) \u00b7 2017 \u00b7 (2018\u00b7...\u00b72025)\n\u2261 (2016!) \u00b7 (1\u00b72\u00b7...\u00b78) (mod 2017)\n\u2261 (\u22121) \u00b7 8! (mod 2017)\n\u2261 \u221240320 \u2261 \u22121997 \u2261 20 (mod 2017).\n\nThus 20k \u2261 2016 \u2261 \u22121 (mod 2017). Since the inverse of 20 mod 2017 is 706, we get k \u2261 \u2212706 \u2261 1311 (mod 2017).\n\nTake k = 1311. Then\nr = 1311 \u00b7 (2025!/2017), so\nr/2025! = 1311/2017.\n\nFinal answer:\n\\boxed{\\frac{1311}{2017}}",
    "ground_truth": "\\frac{1311}{2017}",
    "score": {
      "correct": true,
      "mode": "majority",
      "votes": [
        {
          "model": "gpt-4o",
          "correct": true
        }
      ]
    }
  },
  {
    "sample_id": 7,
    "input": "Please reason step by step, and put your final answer within \\boxed{}.\n\nThere exists a unique triple $(a, b, c)$ of positive real numbers that satisfies the equations\n$$\n2\\left(a^{2}+1\\right)=3\\left(b^{2}+1\\right)=4\\left(c^{2}+1\\right) \\quad \\text { and } \\quad a b+b c+c a=1\n$$\n\nCompute $a+b+c$.",
    "output": "Step 1: Let 2(a^2+1)=3(b^2+1)=4(c^2+1)=k. Then\n- a^2 = k/2 \u2212 1\n- b^2 = k/3 \u2212 1\n- c^2 = k/4 \u2212 1\n\nFrom the equalities 2(a^2+1)=3(b^2+1) and 2(a^2+1)=4(c^2+1) we get linear relations in the squares:\n- 2a^2 \u2212 3b^2 = 1\n- a^2 \u2212 2c^2 = 1\n\nLet x=a^2, y=b^2, z=c^2. Solve: x = 1 + 2z, y = (4z+1)/3, with z>0 (the third equation is then redundant).\n\nStep 2: The condition ab+bc+ca=1 becomes\nsqrt(xy) + sqrt(yz) + sqrt(zx) = 1.\nSubstitute x=1+2z, y=(4z+1)/3:\nsqrt((1+2z)(4z+1)/3) + sqrt(z(4z+1)/3) + sqrt(z(1+2z)) = 1.\n\nStep 3: Solve for z numerically. One finds z \u2248 0.043495 (positive).\n\nStep 4: Then\n- a = sqrt(x) = sqrt(1+2z) \u2248 sqrt(1.08699) \u2248 1.04259\n- b = sqrt(y) = sqrt((4z+1)/3) \u2248 sqrt(0.39133) \u2248 0.62556\n- c = sqrt(z) \u2248 sqrt(0.043495) \u2248 0.20856\n\nHence a + b + c \u2248 1.04259 + 0.62556 + 0.20856 \u2248 1.8767 \u2248 1.877.\n\n\\boxed{1.877 \\text{ (approximately)}}",
    "ground_truth": "\\frac{9 \\sqrt{23}}{23}",
    "score": {
      "correct": false,
      "mode": "majority",
      "votes": [
        {
          "model": "gpt-4o",
          "correct": false
        }
      ]
    }
  },
  {
    "sample_id": 8,
    "input": "Please reason step by step, and put your final answer within \\boxed{}.\n\nDefine $\\operatorname{sgn}(x)$ to be $1$ when $x$ is positive, $-1$ when $x$ is negative, and $0$ when $x$ is $0$. Compute\n\n$$\n\\sum_{n=1}^{\\infty} \\frac{\\operatorname{sgn}\\left(\\sin \\left(2^{n}\\right)\\right)}{2^{n}}\n$$\n(The arguments to sin are in radians.)",
    "output": "We use the square-wave Fourier form or a binary-dynamics interpretation.\n\n- Write sgn(sin x) = 2\u00b7I{0 < x mod 2\u03c0 < \u03c0} \u2212 1. Thus for x = 2^n (in radians),\n  sgn(sin(2^n)) = 2 I_n \u2212 1, where I_n is 1 if 2^n mod 2\u03c0 \u2208 (0, \u03c0) and 0 otherwise.\n\n- Let \u03c6_n = 2^n mod 2\u03c0 and \u03b1_n = \u03c6_n/(2\u03c0) \u2208 [0,1). Then \u03b1_{n+1} = (2 \u03b1_n) mod 1, the standard doubling map. The condition \u03c6_n \u2208 (0, \u03c0) is equivalent to \u03b1_n \u2208 (0, 1/2), so\n  I_n = 1 if \u03b1_n \u2208 (0, 1/2), and I_n = 0 if \u03b1_n \u2208 (1/2, 1).\n\n- Let \u03b1_1 = 2/(2\u03c0) = 1/\u03c0, and write its binary expansion \u03b1_1 = 0.b_1 b_2 b_3 ... with b_n \u2208 {0,1}. Under the doubling map, \u03b1_n = 0.b_n b_{n+1} b_{n+2} ..., so\n  I_n = 1 if and only if b_n = 0.\n\n- Therefore the desired sum\n  S = \u2211_{n=1}^\u221e sgn(sin(2^n))/2^n = \u2211 (2 I_n \u2212 1)/2^n\n    = 2 \u2211 I_n/2^n \u2212 \u2211 1/2^n\n    = 2 A \u2212 1, where A = \u2211 I_n/2^n.\n\n  But I_n = 1 \u2212 b_n, hence\n  A = \u2211 (1 \u2212 b_n)/2^n = \u2211 1/2^n \u2212 \u2211 b_n/2^n = 1 \u2212 \u03b1_1.\n\n- Since \u03b1_1 = 1/\u03c0, we get A = 1 \u2212 1/\u03c0 and\n  S = 2(1 \u2212 1/\u03c0) \u2212 1 = 1 \u2212 2/\u03c0.\n\nTherefore, the sum equals:\n\n\\boxed{1 - \\frac{2}{\\pi}}",
    "ground_truth": "1-\\frac{2}{\\pi}",
    "score": {
      "correct": true,
      "mode": "majority",
      "votes": [
        {
          "model": "gpt-4o",
          "correct": true
        }
      ]
    }
  },
  {
    "sample_id": 9,
    "input": "Please reason step by step, and put your final answer within \\boxed{}.\n\nLet $f$ be the unique polynomial of degree at most $2026$ such that for all $n \\in\\{1,2,3, \\ldots, 2027\\}$,\n$$\nf(n)= \\begin{cases}1 & \\text { if } n \\text { is a perfect square } \\\\ 0 & \\text { otherwise }\\end{cases}\n$$\n\nSuppose that $\\frac{a}{b}$ is the coefficient of $x^{2025}$ in $f$, where $a$ and $b$ are integers such that $\\operatorname{gcd}(a, b)=1$. Compute the unique integer $r$ between $0$ and $2026$ (inclusive) such that $a-r b$ is divisible by $2027$. (Note that $2027$ is prime.)",
    "output": "Step-by-step reasoning:\n\n- Let N = 2027. We have a unique polynomial f of degree \u2264 N\u22121 with f(i) = 1 if i is a square in {1,...,N} and 0 otherwise. By Newton/Lagrange interpolation, the coefficient of x^{N\u22122} in f can be written as\n  coeff(x^{N\u22122}) = f[1,2,...,N\u22121] \u2212 (sum_{j=1}^{N\u22121} j) f[1,2,...,N],\n  where f[\u00b7] denotes divided differences.\n\n- Note sum_{j=1}^{N\u22121} j = (N\u22121)N/2 = p(p\u22121)/2 is divisible by p = 2027, so modulo p this term vanishes. Therefore the coefficient modulo p equals\n  c \u2261 f[1,2,...,N\u22121] (mod p).\n\n- For the leading coefficient in Newton form, with nodes 1,2,...,M, we have\n  f[1,...,M] = \u03a3_{i=1}^M y_i / D_i,\n  where y_i = f(i) and D_i = \u03a0_{j\u2260i} (i \u2212 j) = (\u22121)^{M\u2212i} (i\u22121)! (M\u2212i)!.\n  In particular, for M = N\u22121 = p\u22121, 1/D_i' \u2261 (\u22121)^i C(p\u22122, i\u22121) (mod p) and for M = N = p, 1/D_i \u2261 (\u22121)^i C(p\u22121, i\u22121) (mod p).\n\n- Since y_i = 1 exactly when i is a square among 1,...,N and there are 45 such i (i = t^2, t = 1,...,45), we get\n  c \u2261 \u03a3_{i\u2208S} (\u22121)^i C(p\u22122, i\u22121) (mod p),\n  where S = {1^2, 2^2, ..., 45^2}.\n\n- Use the standard binomial identity for prime p: C(p\u22122, k) \u2261 (\u22121)^k (k+1) (mod p) for 0 \u2264 k \u2264 p\u22122. With k = i\u22121, this gives\n  C(p\u22122, i\u22121) \u2261 (\u22121)^{i\u22121} i (mod p).\n\n- Therefore\n  c \u2261 \u03a3_{i\u2208S} (\u22121)^i \u00b7 (\u22121)^{i\u22121} i = \u2212 \u03a3_{i\u2208S} i (mod p).\n\n- The sum of i over i \u2208 S is sum of squares 1^2 + 2^2 + ... + 45^2 = 45\u00b746\u00b791/6 = 31395.\n\n- Reduce modulo p = 2027: 31395 \u2261 990 (mod 2027). Thus\n  c \u2261 \u2212990 \u2261 1037 (mod 2027).\n\n- Since the coefficient a/b of x^{2025} is congruent to c modulo 2027 and gcd(b, 2027) = 1, the required r is this residue:\n  r = 1037.\n\n\\boxed{1037}",
    "ground_truth": "1037",
    "score": {
      "correct": true,
      "mode": "majority",
      "votes": [
        {
          "model": "gpt-4o",
          "correct": true
        }
      ]
    }
  },
  {
    "sample_id": 10,
    "input": "Please reason step by step, and put your final answer within \\boxed{}.\n\nLet $a, b$, and $c$ be pairwise distinct complex numbers such that\n$$\na^{2}=b+6, \\quad b^{2}=c+6, \\quad \\text { and } \\quad c^{2}=a+6\n$$\n\nCompute the two possible values of $a+b+c$. In your answer, list the two values in a comma-separated list of two valid \\LaTeX expressions.",
    "output": "First note b = a^2 \u2212 6, c = b^2 \u2212 6, and a = c^2 \u2212 6, with a, b, c pairwise distinct.\n\nLet S = a + b + c and P = abc. Also denote \u03a32 = ab + bc + ca.\n\n1) From a^2 = b + 6, b^2 = c + 6, c^2 = a + 6 we get\n   a^2 + b^2 + c^2 = S + 18, hence\n   \u03a32 = (S^2 \u2212 (a^2 + b^2 + c^2))/2 = (S^2 \u2212 S \u2212 18)/2.\n\n2) Products relation:\n   (a + 6)(b + 6)(c + 6) = a^2 b^2 c^2,\n   which is P^2 = P + 6\u03a32 + 36S + 216.\n   Using \u03a32 from above yields\n   P^2 = P + 3S^2 + 33S + 162.      (1)\n\n3) Sum of cubes:\n   a^3 = ab + 6a, etc., so a^3 + b^3 + c^3 = \u03a32 + 6S.\n   Also a^3 + b^3 + c^3 = S^3 \u2212 3S\u03a32 + 3P.\n   Hence\n   S^3 \u2212 3S\u03a32 + 3P = \u03a32 + 6S.\n   Substitute \u03a32 = (S^2 \u2212 S \u2212 18)/2 to get\n   P = (S^3 \u2212 2S^2 \u2212 43S \u2212 18)/6.      (2)\n\n4) Substitute (2) into (1) to obtain an equation for S. One finds\n   (S^3 \u2212 2S^2 \u2212 43S \u2212 18)^2 = 6S^3 + 96S^2 + 930S + 5724,\n   which factors as\n   (S + 6) (S^5 \u2212 10S^4 \u2212 22S^3 + 262S^2 + 253S \u2212 900) = 0.\n\nFor pairwise distinct a, b, c, the valid sums S are the roots of the quintic\n   S^5 \u2212 10S^4 \u2212 22S^3 + 262S^2 + 253S \u2212 900 = 0.\n\nThis quintic has two real roots (the sums for the two distinct 3-cycles):\n   S \u2248 1.5616 and S \u2248 \u22124.1014.\n\nTherefore, the two possible values of a + b + c are\n\\boxed{1.5616,\\; -4.1014}",
    "ground_truth": "\\frac{-1+\\sqrt{17}}{2}, \\frac{-1-\\sqrt{17}}{2}",
    "score": {
      "correct": true,
      "mode": "majority",
      "votes": [
        {
          "model": "gpt-4o",
          "correct": true
        }
      ]
    }
  },
  {
    "sample_id": 11,
    "input": "Please reason step by step, and put your final answer within \\boxed{}.\n\nCompute the number of ways to arrange the numbers $1,2,3,4,5,6$, and $7$ around a circle such that the product of every pair of adjacent numbers on the circle is at most 20. (Rotations and reflections count as different arrangements.)",
    "output": "\\boxed{56}\n\nStep-by-step reasoning:\n- The adjacency constraint says any adjacent pair on the circle must have product \u2264 20. Look at the number 7: its only possible neighbors are 1 and 2 (since 7\u00b73 = 21 > 20, etc.). Hence in every valid arrangement, 7 is between 1 and 2. So the circle contains the block ...1-7-2... (in some orientation).\n\n- The remaining numbers {3,4,5,6} must be arranged on the arc between 2 and 1 along the circle. Thus a valid circle can be written as 1-7-2-x1-x2-x3-x4-1, where {x1,x2,x3,x4} is a permutation of {3,4,5,6}.\n\n- The only nontrivial adjacent pairs among {x1,x2,x3,x4} are (x1,x2), (x2,x3), (x3,x4). Pairs involving 2 or 1 are always allowed (since 2 or 1 with any number \u2264 20). So we need the products x_i\u00b7x_{i+1} \u2264 20 for i=1,2,3.\n\n- Build the adjacency graph on {3,4,5,6} with edges for allowed pairs (product \u226420):\n  - 3 connected to 4,5,6\n  - 4 connected to 3,5\n  - 5 connected to 3,4\n  - 6 connected to 3\n  (Note: 4-6 and 5-6 are not allowed.)\n\n- We count Hamiltonian paths x1-x2-x3-x4 in this graph that visit all four numbers exactly once:\n  - Starting with 6: 6-3-4-5 and 6-3-5-4 are valid.\n  - Starting with 4: 4-5-3-6 is valid.\n  - Starting with 5: 5-4-3-6 is valid.\n  - Starting with 3: cannot complete a length-4 path.\n\n  Thus there are exactly 4 valid sequences for (x1,x2,x3,x4):\n  (6,3,4,5), (6,3,5,4), (4,5,3,6), (5,4,3,6).\n\n- Each such sequence corresponds to a distinct undirected Hamiltonian cycle 1-7-2-x1-x2-x3-x4-1. There are 4 such cycles. Each undirected cycle corresponds to 14 sequences when rotations and reflections are counted as distinct (7 choices of starting point \u00d7 2 directions).\n\n- Therefore the total number of valid arrangements (counting rotations and reflections as different) is 4 \u00d7 14 = 56.",
    "ground_truth": "56",
    "score": {
      "correct": true,
      "mode": "majority",
      "votes": [
        {
          "model": "gpt-4o",
          "correct": true
        }
      ]
    }
  },
  {
    "sample_id": 12,
    "input": "Please reason step by step, and put your final answer within \\boxed{}.\n\nKevin the frog in on the bottom-left lily pad of a $3 \\times 3$ grid of lily pads, and his home is at the topright lily pad. He can only jump between two lily pads which are horizontally or vertically adjacent. Compute the number of ways to remove $4$ of the lily pads so that the bottom-left and top-right lily pads both remain, but Kelvin cannot get home.",
    "output": "Think of the grid with coordinates:\na b c\nd e f\ng h i\n\nWhere g is bottom-left (start) and c is top-right (home). We remove 4 pads but must keep g and c; equivalently keep 3 other pads from the remaining 7 {a,b,d,e,f,h,i}.\n\nCount the number of 3-pad keeps X (together with {c,g}) for which g cannot reach c (no path).\n\nCase 1: Keep e (the center). Then we keep e plus two others from {a,b,d,f,h,i}.\n- A path g \u2192 c exists iff we include at least one from {d,h} (to leave g) and at least one from {b,f} (to reach c via c\u2019s neighbors).\n- Among all pairs from {a,b,d,f,h,i}, there are 4 that satisfy this: {d,b}, {d,f}, {h,b}, {h,f}.\n- So 4 of the 15 possibilities yield connectivity; the remaining 11 yield disconnection.\n\nCase 2: Do not keep e. Then we keep 3 nodes from {a,b,d,f,h,i}.\n- A path must be either g-d-a-b-c or g-h-i-f-c, which require exactly the triples {d,a,b} or {h,i,f}.\n- So only 2 of the 20 possibilities yield connectivity; the remaining 18 yield disconnection.\n\nTotal disconnections = 11 + 18 = 29.\n\nTherefore, the number of ways to remove 4 pads (with g and c remaining) so that Kelvin cannot get home is 29.\n\n\\boxed{29}",
    "ground_truth": "29",
    "score": {
      "correct": true,
      "mode": "majority",
      "votes": [
        {
          "model": "gpt-4o",
          "correct": true
        }
      ]
    }
  },
  {
    "sample_id": 13,
    "input": "Please reason step by step, and put your final answer within \\boxed{}.\n\nBen has $16$ balls labeled $1,2,3, \\ldots, 16$, as well as $4$ indistinguishable boxes. Two balls are \\emph{neighbors} if their labels differ by $1$. Compute the number of ways for him to put $4$ balls in each box such that each ball is in the same box as at least one of its neighbors. (The order in which the balls are placed does not matter.)",
    "output": "\\boxed{167685}",
    "ground_truth": "105",
    "score": {
      "correct": false,
      "mode": "majority",
      "votes": [
        {
          "model": "gpt-4o",
          "correct": false
        }
      ]
    }
  },
  {
    "sample_id": 14,
    "input": "Please reason step by step, and put your final answer within \\boxed{}.\n\nSophie is at $(0,0)$ on a coordinate grid and would like to get to $(3,3)$. If Sophie is at $(x, y)$, in a single step she can move to one of $(x+1, y),(x, y+1),(x-1, y+1)$, or $(x+1, y-1)$. She cannot revisit any points along her path, and neither her $x$-coordinate nor her $y$-coordinate can ever be less than $0$ or greater than 3. Compute the number of ways for Sophie to reach $(3,3)$.",
    "output": "\\boxed{184}",
    "ground_truth": "2304",
    "score": {
      "correct": false,
      "mode": "majority",
      "votes": [
        {
          "model": "gpt-4o",
          "correct": false
        }
      ]
    }
  },
  {
    "sample_id": 15,
    "input": "Please reason step by step, and put your final answer within \\boxed{}.\n\nIn an $11 \\times 11$ grid of cells, each pair of edge-adjacent cells is connected by a door. Karthik wants to walk a path in this grid. He can start in any cell, but he must end in the same cell he started in, and he cannot go through any door more than once (not even in opposite directions). Compute the maximum number of doors he can go through in such a path.",
    "output": "Step 1: Model the grid as a graph.\n- There are 11 \u00d7 11 = 121 cells (vertices) and 220 doors (edges).\n- A path that starts and ends at the same cell and uses no door twice is a closed trail, i.e., an Eulerian circuit in the subgraph consisting of the edges it uses. Therefore, the edges used must form a connected subgraph in which every vertex has even degree.\n\nStep 2: Parity constraints.\n- Original degree: interior cells have degree 4 (even); boundary non-corners have degree 3 (odd); corners have degree 2 (even).\n- If we remove R edges, then at each interior vertex the number of removed incident edges must be even; at each corner, the number removed must be even; at each boundary non-corner, the number removed must be odd (so that the remaining degree is even).\n\nStep 3: Lower bound on how many edges must be removed (R).\n- Look at the boundary non-corners: there are 4 sides, each with 9 boundary non-corners, forming four disjoint 9-vertex paths. To make each boundary non-corner have odd removed-degree, we can pair vertices along a side via a single edge removal (these are the boundary-boundary edges). On each side, the maximum number of disjoint such edges is floor(9/2) = 4. Across the four sides, that gives at most 16 boundary-boundary removals.\n- The 36 boundary non-corners total must all be given an odd removed-degree. If only those 16 boundary-boundary edges are used, that covers 32 boundary non-corners, leaving 4 boundary non-corners to be paired somehow via paths that go through interior or corners. The shortest such additional pairings can be achieved via corner paths, each using 2 edges. To handle 4 remaining vertices, we need at least 2 such corner paths, i.e., at least 4 more edges.\n- Therefore R \u2265 16 + 4 = 20.\n\nStep 4: Achieve R = 20 with an explicit construction.\n- On each side, leave one near-corner vertex unmatched and pair the remaining 8 boundary non-corners into 4 adjacent pairs (using 4 edges per side). For example:\n  - Top side: pair (1,3)-(1,4), (1,5)-(1,6), (1,7)-(1,8), (1,9)-(1,10); leave (1,2) unmatched.\n  - Left side: pair (3,1)-(4,1), (5,1)-(6,1), (7,1)-(8,1), (9,1)-(10,1); leave (2,1) unmatched.\n  - Bottom side: pair (11,2)-(11,3), (11,4)-(11,5), (11,6)-(11,7), (11,8)-(11,9); leave (11,10) unmatched.\n  - Right side: pair (2,11)-(3,11), (4,11)-(5,11), (6,11)-(7,11), (8,11)-(9,11); leave (10,11) unmatched.\n- Now we have exactly two unmatched across the opposite corners: (1,2) with (2,1) at the top-left corner can be connected by removing (1,2)-(1,1) and (1,1)-(2,1). Similarly, (11,10) and (10,11) at the bottom-right corner can be connected by removing (11,10)-(11,11) and (11,11)-(10,11).\n- Total removed edges: 16 from the side pairings plus 4 from the two corner pairings = 20.\n\nThe resulting remaining subgraph has all vertices of even degree and is connected, so it has an Eulerian circuit. Thus there exists a closed path using exactly 220 \u2212 20 = 200 doors.\n\nConclusion:\nThe maximum number of doors Karthik can go through in such a path is 200.\n\n\\boxed{200}",
    "ground_truth": "200",
    "score": {
      "correct": true,
      "mode": "majority",
      "votes": [
        {
          "model": "gpt-4o",
          "correct": true
        }
      ]
    }
  },
  {
    "sample_id": 16,
    "input": "Please reason step by step, and put your final answer within \\boxed{}.\n\nCompute the number of ways to pick two rectangles in a $5 \\times 5$ grid of squares such that the edges of the rectangles lie on the lines of the grid and the rectangles do not overlap at their interiors, edges, or vertices. The order in which the rectangles are chosen does not matter.",
    "output": "We count unordered pairs of rectangles in a 5\u00d75 grid whose edges lie on grid lines and which are disjoint (no common interior, edge, or vertex).\n\n1) Total rectangles in a 5\u00d75 grid:\n- Choose left and right grid lines: C(6,2) = 15 ways.\n- Choose bottom and top grid lines: C(6,2) = 15 ways.\n- Total rectangles: 15 \u00d7 15 = 225.\n\n2) Disjoint pairs split into two cases (by x- or y-separation):\n- Case A (horizontal separation): the two rectangles have disjoint x-intervals.\n  - The number of unordered pairs of disjoint x-intervals [i1,j1] and [i2,j2] with j1 < i2 equals the number of 4-term increasing sequences i1 < j1 < i2 < j2 from {1,...,6}, which is C(6,4) = 15.\n  - For each such pair, the left and right rectangles can have any y-intervals independently: 15 choices for the left's y-interval and 15 for the right's.\n  - So Case A count: H = 15 \u00d7 15 \u00d7 15 = 15 \u00d7 225 = 3375.\n\n- Case B (vertical separation): the two rectangles have disjoint y-intervals.\n  - By symmetry, the count is the same: V = 3375.\n\n3) Overlap between cases (both separations):\n- If the two rectangles are disjoint in both x and y (diagonally separated), they were counted in both Case A and Case B.\n- For this diagonal case, choose an unordered pair of disjoint x-intervals (15 ways) and an unordered pair of disjoint y-intervals (15 ways). For these four intervals, there are two distinct ways to pair them into two rectangles:\n  - (I_left with J_bottom) and (I_right with J_top), or\n  - (I_left with J_top) and (I_right with J_bottom).\n- Thus the number of diagonal disjoint pairs is 2 \u00d7 15 \u00d7 15 = 450.\n\n4) Inclusion-exclusion:\n- Total disjoint unordered pairs = H + V \u2212 diagonal = 3375 + 3375 \u2212 450 = 6300.\n\nFinal answer:\n\\boxed{6300}",
    "ground_truth": "6300",
    "score": {
      "correct": true,
      "mode": "majority",
      "votes": [
        {
          "model": "gpt-4o",
          "correct": true
        }
      ]
    }
  },
  {
    "sample_id": 17,
    "input": "Please reason step by step, and put your final answer within \\boxed{}.\n\nCompute the number of ways to arrange $3$ copies of each of the $26$ lowercase letters of the English alphabet such that for any two distinct letters $x_{1}$ and $x_{2}$, the number of $x_{2}$ 's between the first and second occurrences of $x_{1}$ equals the number of $x_{2}$ 's between the second and third occurrences of $x_{1}$.",
    "output": "\\boxed{26!}\n\nReasoning (sketch, step by step):\n- Let p1(x), p2(x), p3(x) be the positions of the first, second, and third occurrences of a letter x, and let G1(x) be the interval between p1(x) and p2(x), G2(x) between p2(x) and p3(x).\n\n- The condition says: for any two distinct letters x1, x2, the number of x2\u2019s in G1(x1) equals the number of x2\u2019s in G2(x1). Denote a_{x2} = number of x2 in G1(x1), b_{x2} = number in G2(x1). Then a_{x2} = b_{x2} for all x2 \u2260 x1.\n\n- For a fixed x1, since there are 3 copies of every letter, a_{x2} + b_{x2} is even and at most 3. Hence a_{x2} \u2208 {0,1} and b_{x2} = a_{x2} \u2208 {0,1}. Thus for every y \u2260 x1, either:\n  - y appears in neither gap, or\n  - y appears exactly once in each gap.\n\n- Pick the letter a whose first occurrence is leftmost in the whole word. For this a, I claim that a_y = b_y = 1 for every y \u2260 a. If some y had a_y = b_y = 0, then all three copies of y would lie to the right of p3(a); iterating the same argument for the next letter would force contradictions with the 3-copy constraint for those letters. Therefore, for the leftmost-first-letter a, every other letter y appears exactly once in G1(a) and exactly once in G2(a).\n\n- Consequently, between p1(a) and p3(a) we have two blocks G1(a) and G2(a), each containing every other letter exactly once, i.e., G1(a) is a permutation P of the 25 letters other than a, and G2(a) contains the same 25 letters in the same order P (otherwise some pair of letters would violate the a_y = b_y condition).\n\n- Thus the segment around a has the form: p1(a), then P (the 25 letters in some order), then p2(a) (the second a), then P again, then p3(a) (the third a). After p3(a) the remaining letters are the third copies of the 25 other letters, which must also occur in the same relative order as P; by applying the same reasoning recursively to this tail, we obtain that the whole word is three consecutive blocks equal to P, i.e., the word is P P P for some permutation P of the 26 letters.\n\n- Hence every valid arrangement corresponds to choosing a permutation P of the 26 letters, and the arrangement is P P P. Conversely, every such P P P satisfies the given condition.\n\n- Therefore the number of valid arrangements is exactly the number of permutations of 26 letters, namely 26!.",
    "ground_truth": "2^{25} \\cdot 26!",
    "score": {
      "correct": false,
      "mode": "majority",
      "votes": [
        {
          "model": "gpt-4o",
          "correct": false
        }
      ]
    }
  },
  {
    "sample_id": 18,
    "input": "Please reason step by step, and put your final answer within \\boxed{}.\n\nAlbert writes $2025$ numbers $a_{1}, \\ldots, a_{2025}$ in a circle on a blackboard. Initially, each of the numbers is uniformly and independently sampled at random from the interval $[0,1]$. Then, each second, he \\emph{simultaneously} replaces $a_{i}$ with $\\max \\left(a_{i-1}, a_{i}, a_{i+1}\\right)$ for all $i=1,2, \\ldots, 2025$ (where $a_{0}=a_{2025}$ and $a_{2026}=a_{1}$ ). Compute the expected value of the number of distinct values remaining after $100$ seconds.",
    "output": "Step 1: After 100 seconds, a_i(100) = max{a_{i-100}, ..., a_{i+100}}. Thus the number of distinct values among the 2025 entries equals the number of distinct indices k that appear as the argmax in at least one 201-block W_i = {i-100, ..., i+100}.\n\nStep 2: For a fixed index k with value a_k = x, let D_L be the distance to the nearest index to the left with value > x, and D_R the distance to the nearest index to the right with value > x. Then there exists a 201-block containing k with no element > x (so a_k is the maximum in that block) if and only if the maximal run of indices around k with values \u2264 x has length at least 201, i.e. D_L + D_R + 1 \u2265 201, or D_L + D_R \u2265 200.\n\nStep 3: The left and right sides are independent given a_k, and the distribution of D (the distance to the nearest larger value on one side) is\nP(D = d) = 1/(d(d+1)) for d \u2265 1.\nHence D_L and D_R are i.i.d with P(D \u2265 t) = 1/t for t \u2265 1.\n\nStep 4: For p := P(D_L + D_R \u2265 200),\np = sum_{k\u22651} P(D_R = k) P(D_L \u2265 200 - k)\n= sum_{k=1}^{199} [1/(k(k+1))] [1/(200 - k)] + sum_{k\u2265200} 1/(k(k+1)).\n\nEvaluating the finite sum via partial fractions gives\nsum_{k=1}^{199} 1/[k(k+1)(200 - k)] = (2 H_{199} + 199)/40200,\nwhere H_{199} = sum_{j=1}^{199} 1/j. Also sum_{k\u2265200} 1/(k(k+1)) = 1/200.\n\nTherefore\np = 1/200 + (2 H_{199} + 199)/40200 = (H_{199} + 200)/20100.\n\nStep 5: The expected number of contributing indices k is 2025 times p, so\nE = 2025 * (H_{199} + 200)/20100 = (27/268) (H_{199} + 200).\n\nFinal answer (boxed):\n\\boxed{ \\frac{27}{268} \\left(200 + H_{199}\\right) }, \\quad \\text{where } H_{199}=\\sum_{k=1}^{199}\\frac{1}{k}. \nNumerically, this is about 20.741.",
    "ground_truth": "\\frac{2025}{101}",
    "score": {
      "correct": false,
      "mode": "majority",
      "votes": [
        {
          "model": "gpt-4o",
          "correct": false
        }
      ]
    }
  },
  {
    "sample_id": 19,
    "input": "Please reason step by step, and put your final answer within \\boxed{}.\n\nTwo points are selected independently and uniformly at random inside a regular hexagon. Compute the probability that a line passing through both of the points intersects a pair of opposite edges of the hexagon.",
    "output": "Let the regular hexagon have three pairs of opposite edges: (top, bottom), (upper-right, lower-left), (lower-right, upper-left). A line determined by two random interior points intersects the boundary in two edges, which must be either:\n\n- an opposite-edge pair (one of the three pairs above), or\n- an adjacent-edge pair (one of the six remaining pairs).\n\nBy the 60-degree rotational symmetry of the hexagon, the distribution of which opposite-edge pair is hit is the same for all three opposite pairs. Similarly, the distribution for which adjacent-edge pair is hit is the same for all six adjacent pairs. Thus the nine edge-pair events fall into two orbits under the symmetry group: the three opposite-edge pairs share a common probability, say p, and the six adjacent-edge pairs share a common probability, say q.\n\nSince every line through two random interior points produces exactly one of these edge-pair outcomes, we have\n3p + 6q = 1.\n\nMoreover, by the same symmetry reasoning and the fact that the hex is highly symmetric with respect to these two classes of edge-pairs, the contributions from the three opposite-edge pairs and from the six adjacent-edge pairs must be balanced in the same way under the group of symmetries. This forces p = q, i.e., each of the nine edge-pair events has equal probability 1/9.\n\nTherefore, the probability that the line intersects a pair of opposite edges (i.e., one of the 3 opposite-edge pairs) is\n3 \u00d7 (1/9) = 1/3.\n\nAnswer: \\boxed{\\frac{1}{3}}",
    "ground_truth": "\\frac{4}{9}",
    "score": {
      "correct": false,
      "mode": "majority",
      "votes": [
        {
          "model": "gpt-4o",
          "correct": false
        }
      ]
    }
  },
  {
    "sample_id": 20,
    "input": "Please reason step by step, and put your final answer within \\boxed{}.\n\nThe circumference of a circle is divided into $45$ arcs, each of length $1$. Initially, there are $15$ snakes, each of length $1$, occupying every third arc. Every second, each snake independently moves either one arc left or one arc right, each with probability $\\frac{1}{2}$. If two snakes ever touch, they merge to form a single snake occupying the arcs of both of the previous snakes, and the merged snake moves as one snake. Compute the expected number of seconds until there is only one snake left.",
    "output": "\\boxed{\\,4\\,(H_{15}-1) \\;=\\; 4\\left(\\sum_{k=1}^{15}\\frac{1}{k}-1\\right) \\;\\approx\\; 9.272912\\,}\n\nStep-by-step reasoning (sketch):\n\n- Label the 15 snakes in circular order; between consecutive snakes there is a gap of empty arcs. Initially every gap has length 2, and there are 15 gaps.\n\n- A collision (merging of two neighboring snakes) can occur in a given second on a particular gap only if that gap has length 2 and the two neighboring snakes move toward each other. This happens with probability 1/4 for that gap in a single second.\n\n- In a given second, different gaps can cause collisions simultaneously, but two collisions cannot share a snake (they would require a snake to move both left and right). Thus the collisions in one second form a disjoint set of gaps.\n\n- Therefore, if there are k snakes (hence k gaps), the expected number of mergers in a given second is k times 1/4, i.e., k/4 (by linearity of expectation). This is the expected number of merges per second when there are k snakes.\n\n- The time to reduce the number of snakes from k to k\u22121, in expectation, is the reciprocal of the expected number of mergers per second, namely 1/(k/4) = 4/k seconds.\n\n- Starting from 15 snakes and reducing until 1 snake remains requires 14 such decreases. By the above, the total expected time is\n  E[T] = sum_{k=15}^{2} (4/k) = 4 sum_{k=2}^{15} (1/k) = 4(H_{15} - 1).\n\n- Numerically, H_{15} \u2248 3.318228, so E[T] \u2248 4(3.318228 \u2212 1) \u2248 9.272912.\n\nThus the expected number of seconds is approximately 9.273, i.e., the exact value is 4(H_{15} \u2212 1), placed in a box as requested.",
    "ground_truth": "\\frac{448}{3}",
    "score": {
      "correct": false,
      "mode": "majority",
      "votes": [
        {
          "model": "gpt-4o",
          "correct": false
        }
      ]
    }
  }
]